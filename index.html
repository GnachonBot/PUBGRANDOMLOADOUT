<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>PUBG Random Loadout</title>
<style>
  :root {
    --bg: #0b0b0c;
    --panel: #131416;
    --accent: #f2c200; /* PUBG yellow */
    --muted: #9aa0a6;
    --text: #e8eaed;
    --good: #7bd389;
  }
  html, body {
    background: transparent;
    color: var(--text);
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
    height: 100%;
    margin: 0;
  }
  .wrap {
    max-width: 900px;
    margin: 0 auto;
    padding: 24px;
  }
  .title {
    display: flex; align-items: center; gap: 12px;
    font-weight: 800; letter-spacing: .5px;
    margin-bottom: 18px;
  }
  .badge {
    font-weight: 800; padding: 2px 8px; border: 2px solid var(--accent);
    border-radius: 8px; color: var(--accent);
  }
  .controls {
    display:flex; gap:12px; flex-wrap: wrap; margin-bottom: 18px;
  }
  button {
    background: var(--accent); color: #1b1b1b; border: none;
    padding: 10px 14px; border-radius: 12px; font-weight: 800; cursor: pointer;
    box-shadow: 0 6px 18px rgba(242,194,0,.2);
  }
  button:active { transform: translateY(1px); }
  .panel {
    background: linear-gradient(180deg, #16171a 0%, #0f1012 100%);
    border: 1px solid #222428; border-radius: 16px; padding: 16px 16px;
    box-shadow: 0 10px 30px rgba(0,0,0,.35);
  }
  .grid {
    display: grid; grid-template-columns: 1fr; gap: 14px;
  }
  .card {
    border-left: 4px solid var(--accent); padding-left: 12px;
  }
  .slot {
    font-size: 14px; text-transform: uppercase; letter-spacing: .12em; color: var(--muted);
  }
  .weapon {
    font-size: 28px; font-weight: 900; line-height: 1.1; margin-top: 6px;
  }
  .atts {
    margin-top: 8px; font-size: 15px; color: #cbd5e1; line-height: 1.5;
  }
  .atts b { color: var(--good); }
  .footer {
    margin-top: 10px; color: var(--muted); font-size: 12px;
  }

  /* Dramatic rolling effect */
  .rolling {
    color: var(--accent);
    text-shadow: 0 0 8px var(--accent), 0 0 16px var(--accent);
    animation: shake 0.3s infinite;
  }
  @keyframes shake {
    0% { transform: translateX(0px); }
    25% { transform: translateX(-2px); }
    50% { transform: translateX(2px); }
    75% { transform: translateX(-2px); }
    100% { transform: translateX(0px); }
  }
</style>
</head>
<body>
<div class="wrap">
  <div class="title">
    <span class="badge">PUBG</span>
    <div>Random Loadout</div>
  </div>
  <div class="controls">
    <button id="rerollBtn">Reroll</button>
    <label style="display:flex;align-items:center;gap:8px;color:var(--muted)">
      <input type="checkbox" id="auto" /> Auto-reroll
    </label>
    <label style="display:flex;align-items:center;gap:8px;color:var(--muted)">
      <span>Every</span>
      <input id="secs" type="number" min="3" max="120" value="10" style="width:64px;background:#0c0d0f;border:1px solid #2b2e34;border-radius:8px;padding:6px;color:var(--text)" />
      <span>sec</span>
    </label>
  </div>
  <div class="panel grid">
    <div class="card" id="g1"></div>
    <div class="card" id="g2"></div>
    <div class="card" id="p"></div>
  </div>
  <div class="footer">
    Text-only, attachment-aware generator. Valid attachments are sampled per category.
  </div>
</div>
<script>
const WEAPON_DATA = {
  "M16A4": {"Muzzle":["Compensator","Suppressor","Flash Hider","None"],"Optic":["Red Dot","Holo","2x Scope","3x Scope","4x Scope","6x Scope","8x Scope","None"],"Magazine":["Extended Mag","Quickdraw Mag","None"],"Grip":["Angled Grip","Half Grip","Light Grip","Thumb Grip","Laser Sight","Vert Grip","None"],"Stock":["Stock","Heavy Stock","None"]},
  "M416": {"Muzzle":["Compensator","Suppressor","Flash Hider","None"],"Optic":["Red Dot","Holo","2x Scope","3x Scope","4x Scope","6x Scope","None"],"Magazine":["Extended Mag","Quickdraw Mag","None"],"Grip":["Angled Grip","Half Grip","Light Grip","Thumb Grip","Laser Sight","Vert Grip","None"],"Stock":["Stock","Heavy Stock","None"]},
  "Ace": {"Muzzle":["Compensator","Suppressor","Flash Hider","None"],"Optic":["Red Dot","Holo","2x Scope","3x Scope","4x Scope","6x Scope","None"],"Magazine":["Extended Mag","Quickdraw Mag","None"],"Grip":["Angled Grip","Half Grip","Light Grip","Thumb Grip","Laser Sight","Vert Grip","None"],"Stock":["Stock","Heavy Stock","None"]},
  "SCARL": {"Muzzle":["Compensator","Suppressor","Flash Hider","None"],"Optic":["Red Dot","Holo","2x Scope","3x Scope","4x Scope","6x Scope","None"],"Magazine":["Extended Mag","Quickdraw Mag","None"],"Grip":["Angled Grip","Half Grip","Light Grip","Thumb Grip","Laser Sight","Vert Grip","None"]},
  "AUG": {"Muzzle":["Compensator","Suppressor","Flash Hider","None"],"Optic":["Red Dot","Holo","2x Scope","3x Scope","4x Scope","6x Scope","None"],"Magazine":["Extended Mag","Quickdraw Mag","None"],"Grip":["Angled Grip","Half Grip","Light Grip","Thumb Grip","Laser Sight","Vert Grip","None"],"Stock":["Stock","Heavy Stock","None"]},
  "AKM": {"Muzzle":["Compensator","Suppressor","Flash Hider","None"],"Optic":["Red Dot","Holo","2x Scope","3x Scope","4x Scope","6x Scope","None"],"Magazine":["Extended Mag","Quickdraw Mag","None"],"Grip":["Angled Grip","Half Grip","Light Grip","Thumb Grip","Laser Sight","Vert Grip","None"]},
  "BERYL": {"Muzzle":["Compensator","Suppressor","Flash Hider","None"],"Optic":["Red Dot","Holo","2x Scope","3x Scope","4x Scope","6x Scope","None"],"Magazine":["Extended Mag","Quickdraw Mag"],"Grip":["Angled Grip","Half Grip","Light Grip","Thumb Grip","Laser Sight","Vert Grip","None"]},
  "Mutant": {"Muzzle":["Compensator","Suppressor","Flash Hider","None"],"Optic":["Red Dot","Holo","2x Scope","3x Scope","4x Scope","6x Scope","None"],"Magazine":["Extended Mag","Quickdraw Mag","None"],"Grip":["Angled Grip","Half Grip","Light Grip","Thumb Grip","Laser Sight","Vert Grip","None"]},
  "Mini": {"Muzzle":["Compensator","Suppressor","Flash Hider","None"],"Optic":["Red Dot","Holo","2x Scope","3x Scope","4x Scope","6x Scope","8x Scope","None"],"Magazine":["Extended Mag","Quickdraw Mag","None"],"Stock":["Cheek Pad","None"]},
  "Mk12": {"Muzzle":["Compensator","Suppressor","Flash Hider","None"],"Optic":["Red Dot","Holo","2x Scope","3x Scope","4x Scope","6x Scope","None"],"Magazine":["Extended Mag","Quickdraw Mag","None"],"Grip":["Angled Grip","Half Grip","Light Grip","Thumb Grip","Laser Sight","Vert Grip","None"]},
  "SKS": {"Muzzle":["Compensator","Suppressor","Flash Hider","None"],"Optic":["Red Dot","Holo","2x Scope","3x Scope","4x Scope","6x Scope","8x Scope","None"],"Magazine":["Extended Mag","Quickdraw Mag","None"],"Grip":["Angled Grip","Half Grip","Light Grip","Thumb Grip","Laser Sight","Vert Grip","None"],"Stock":["Cheek Pad","None"]},
  "SLR": {"Muzzle":["Compensator","Suppressor","Flash Hider","None"],"Optic":["Red Dot","Holo","2x Scope","3x Scope","4x Scope","6x Scope","8x Scope","None"],"Magazine":["Extended Mag","Quickdraw Mag","None"],"Stock":["Cheek Pad","None"]},
  "VSS": {"Stock":["Cheek Pad","None"]},
  "Dragunov": {"Muzzle":["Compensator","Suppressor","Flash Hider","None"],"Optic":["Red Dot","Holo","2x Scope","3x Scope","4x Scope","6x Scope","8x Scope","None"],"Magazine":["Extended Mag","Quickdraw Mag","None"],"Stock":["Cheek Pad","None"]},
  "Tommy Gun": {"Magazine":["Extended Mag","Quickdraw Mag","None"],"Optic":["Red Dot","Holo","None"]},
  "UMP": {"Muzzle":["Compensator","Suppressor","Flash Hider","None"],"Optic":["Red Dot","Holo","None"],"Magazine":["Extended Mag","Quickdraw Mag","None"],"Grip":["Angled Grip","Half Grip","Light Grip","Thumb Grip","Laser Sight","Vert Grip","None"]},
  "UZI": {"Muzzle":["Compensator","Suppressor","None"],"Optic":["Red Dot","Holo","None"],"Magazine":["Extended Mag","Quickdraw Mag","None"]},
  "Vector": {"Muzzle":["Compensator","Suppressor","Flash Hider","None"],"Optic":["Red Dot","Holo","None"],"Magazine":["Extended Mag","Quickdraw Mag","None"],"Grip":["Angled Grip","Half Grip","Light Grip","Thumb Grip","Laser Sight","Vert Grip","None"],"Stock":["Stock","Heavy Stock","None"]},
  "MP5K": {"Muzzle":["Compensator","Suppressor","Flash Hider","None"],"Optic":["Red Dot","Holo","None"],"Magazine":["Extended Mag","Quickdraw Mag","None"],"Grip":["Angled Grip","Half Grip","Light Grip","Thumb Grip","Laser Sight","Vert Grip","None"],"Stock":["Stock","Heavy Stock","None"]},
  "Kar98k": {"Muzzle":["Compensator","Suppressor","Flash Hider","None"],"Optic":["Red Dot","Holo","2x Scope","3x Scope","4x Scope","6x Scope","8x Scope","None"],"Stock":["Cheek Pad","Bullet Loops","None"]},
  "M24": {"Muzzle":["Compensator","Suppressor","Flash Hider","None"],"Optic":["Red Dot","Holo","2x Scope","3x Scope","4x Scope","6x Scope","8x Scope","None"],"Stock":["Cheek Pad","Bullet Loops","None"]},
  "S12K": {"Muzzle":["Choke","None"],"Optic":["Red Dot","Holo","None"]},
  "S1897": {"Muzzle":["Choke","None"],"Stock":["Bullet Loops","None"]},
  "S686": {"Muzzle":["Choke","None"],"Stock":["Bullet Loops","None"]},
  "P18C": {"Muzzle":["Suppressor","None"],"Optic":["Red Dot","None"],"Magazine":["Extended Mag","Quickdraw Mag","None"]},
  "P92": {"Muzzle":["Suppressor","None"],"Optic":["Red Dot","None"],"Magazine":["Extended Mag","Quickdraw Mag","None"]},
  "Skorpion": {"Muzzle":["Suppressor","None"],"Optic":["Red Dot","None"],"Magazine":["Extended Mag","Quickdraw Mag","None"]},
  "P1911": {"Muzzle":["Suppressor","None"],"Optic":["Red Dot","None"],"Magazine":["Extended Mag","Quickdraw Mag","None"]},
  "M249": {"Optic":["Red Dot","Holo","2x Scope","3x Scope","4x Scope","6x Scope","None"]},
  "Crossbow": {"Optic":["Red Dot","Holo","2x Scope","3x Scope","4x Scope","6x Scope","8x Scope","None"]},
  "Stun Gun": {}
};

const PRIMARY_POOL = ["M16A4","EMT","PANZA","M416","TAC BAG","SCARL","AUG","AKM","BERYL","Mutant","Ace","Mini","Mk12","SKS","SLR","VSS","Dragunov","Tommy Gun","UMP","UZI","Vector","MP5K","Kar98k","M24","S12K","S1897","S686","M249","Crossbow"];
const PISTOLS = ["P18C","P92","Skorpion","P1911","Stun Gun","PAN ONLY","None"];

function sample(arr) {
  return arr[Math.floor(Math.random()*arr.length)];
}

function pickAttachments(weaponName) {
  const entry = WEAPON_DATA[weaponName] || {}
  const chosen = [];
  for (const [cat, opts] of Object.entries(entry)) {
    if (!Array.isArray(opts) || opts.length === 0) continue;
    const choice = sample(opts);
    chosen.push(`<b>${cat}</b>: ${choice}`);
  }
  return chosen.length ? chosen.join(" • ") : "<span style='color:#9aa0a6'>No attachments</span>";
}

// Dramatic rolling function
function rollSlot(elementId, pool) {
  let count = 0;
  const maxRolls = 12;
  const interval = setInterval(() => {
    const randomGun = sample(pool);
    document.getElementById(elementId).innerHTML = `
      <div class="slot rolling">Rolling...</div>
      <div class="weapon">${randomGun}</div>
      <div class="atts">${pickAttachments(randomGun)}</div>
    `;
    count++;
    if (count >= maxRolls) {
      clearInterval(interval);
      const finalGun = sample(pool);
      document.getElementById(elementId).innerHTML = `
        <div class="slot">${elementId === 'p' ? 'Pistol Slot' : 'Gun – ' + elementId.slice(1)}</div>
        <div class="weapon">${finalGun}</div>
        <div class="atts">${pickAttachments(finalGun)}</div>
      `;
    }
  }, 80);
}

function roll() {
  // Roll each slot with stagger
  rollSlot('g1', PRIMARY_POOL);
  setTimeout(() => rollSlot('g2', PRIMARY_POOL), 150);
  setTimeout(() => rollSlot('p', PISTOLS), 300);
}

document.getElementById("rerollBtn").addEventListener("click", roll);

// Auto reroll
let timer = null;
function setTimer() {
  if (timer) clearInterval(timer);
  if (!document.getElementById("auto").checked) return;
  const n = Math.max(3, Math.min(120, parseInt(document.getElementById("secs").value)||10));
  timer = setInterval(roll, n*1000);
}
document.getElementById("auto").addEventListener("change", setTimer);
document.getElementById("secs").addEventListener("change", setTimer);

// Initial roll
roll();
</script>
</body>
</html>
